\documentclass[12pt,a4paper]{article}
\usepackage{extsizes}
\usepackage{geometry}
\geometry{a4paper, margin=1.0in}


\usepackage[table, svgnames, dvipsnames]{xcolor}
\usepackage{color}

\usepackage{float}
\usepackage{graphicx, subfigure}
\usepackage{pdfpages}
\usepackage[multidot]{grffile}

\usepackage{siunitx}
\usepackage{listings}
\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\tcbuselibrary{skins}
\tcbuselibrary{listings}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{lightgray}{rgb}{0.8,0.8,0.8}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tBLr,
	%	frameround=fttt,
	language=Matlab,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	lineskip=0.5em,
	xleftmargin=23pt,
	xrightmargin=9pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=2pt,
	numbers=left,
	firstnumber=1,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	rulecolor=\color{black},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=4,
}



\definecolor{shadecolor}{gray}{0.95}
\definecolor{captionbox}{cmyk}{0.43, 0.35, 0.35,0.01}


\lstdefinelanguage{text}{
	keywords={},
}
\newtcblisting[auto counter]{wgetlisting}[2][]{%
	listing only,
	breakable,
	top=0.5pt,
	bottom=0.5pt,
	colback=red!5!white,
	colframe=red!25,
	left=6mm,
	sharp corners,
	boxrule=0pt,
	bottomrule=1pt,
	toprule=1pt,
	enhanced jigsaw,
	listing options={%style=tcblatex,
		frame=none,
		language=text,
		xleftmargin=1pt,
		xrightmargin=1pt,
		aboveskip=0mm,
		belowskip=0mm,
		lineskip=-0.15em,
		framexbottommargin=0pt,
		%
		numbers=left,
		numberstyle=\tiny\color{red!75!black},
		moredelim={[is][keywordstyle]{@@}{@@}},
		basicstyle=\normalsize\ttfamily,
		breaklines=true,
		breakautoindent=false,
		breakindent=0pt,
		escapeinside={(*}{*)},
	},%
	lefttitle=0pt,
	coltitle=black,
	colbacktitle=white,
	title={Listing \thetcbcounter:  #2},#1%  
	borderline north={1pt}{14.4pt}{red!25,dashed},
}
% 

%https://tex.stackexchange.com/questions/476100/lstlisting-line-number-gaps
\makeatletter
\let\orig@lstnumber=\thelstnumber
\newcommand\lstsetnumber[1]{\gdef\thelstnumber{#1}}
\newcommand\lstresetnumber{\global\let\thelstnumber=\orig@lstnumber}
\newcommand\bashnumbering{\lstsetnumber{\texttt{>>}}}
\makeatother


\usepackage{setspace}
\usepackage{anyfontsize}

\setstretch{1.5}


\usepackage{amsthm, thmtools}
\usepackage{environ}
%\usepackage{bickham}
%\usepackage{boondox-cal}
%\usepackage{boondox-calo}
\usepackage{dutchcal}
\usepackage{amssymb,amsmath,gensymb,mathtools,unicode-math}
%\usepackage{pxfonts}
%\usepackage{newtxmath}
\usepackage{stackengine}


\usepackage[hyphens]{url}%\PassOptionsToPackage{hyphens}{url}
\usepackage[colorlinks,linkcolor=blue,citecolor=blue, breaklinks]{hyperref}
\usepackage{xurl}
%\usepackage{url}
%\usepackage{newtxmath}



%\usepackage{breakurl}
\usepackage{copyrightbox,doi}


\usepackage{pgffor}
\usepackage{placeins}
\usepackage{comment}
\usepackage{etoolbox}
\usepackage{longtable, ltablex, tabu}
\usepackage{tabularx,multirow,multicol,array}
\newcolumntype{C}[1]{>{\centering\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\definecolor{headerColor}{rgb}{0.78,0.85,.95}



\newcounter{magicrownumbers}
\newcommand\rownumber{\stepcounter{magicrownumbers}\arabic{magicrownumbers}}
\newcommand\resetrownumber{\preto\tabular{\setcounter{magicrownumbers}{0}}}
\preto\tabular{\setcounter{magicrownumbers}{0}}
\preto\longtable{\setcounter{magicrownumbers}{0}}


\usepackage{csvsimple}
\makeatletter
\csvset{
	autotabularcenter/.style={
		file=#1,
		after head=\csv@pretable\begin{tabular}{|*{\csv@columncount}{c|}}\csv@tablehead,
			table head=\hline\csvlinetotablerow\\\hline,
			late after line=\\,
			table foot=\\\hline,
			late after last line=\csv@tablefoot\end{tabular}\csv@posttable,
		command=\csvlinetotablerow},
}
\makeatother
\newcommand{\csvautotabularcenter}[2][]{\csvloop{autotabularcenter={#2},#1}}

%======================================================================================

\usepackage{fancyhdr}

\usepackage[inline]{enumitem}
\newlist{alphinline}{enumerate*}{1}
\setlist[alphinline]{label=(\alph*)}
\newlist{enuminline}{enumerate*}{1}
\setlist[enuminline]{label=(\arabic*)}
\newlist{circlelist}{enumerate}{1}
\setlist[circlelist,1]{label=\protect\circled{\arabic*}}
\newlist{alphabetlist}{enumerate}{1}
\setlist[alphabetlist]{label=\alph*)}
\newlist{checklist}{itemize}{1}
\setlist[checklist]{label=$\checkmark$)}
\newlist{iteminline}{itemize*}{1}
\setlist[iteminline]{label=$\bullet$}

\setlength\itemsep{0.7em}

\usepackage{titlesec}

\usepackage[localise=on,extrafootnotefeatures]{xepersian} %%%%%%%%%%%%%%%%%%%%%%%%%%%
\settextfont{XB Niloofar}

%\settextfont[
%Scale=1.09,
%Extension=.ttf, 
%Path=styles/fonts/,
%BoldFont=XB NiloofarBd,
%ItalicFont=XB NiloofarIt,
%BoldItalicFont=XB NiloofarBdIt
%]{XB Niloofar}

%\setdigitfont[
%Scale=1.09,
%Extension=.ttf, 
%Path=styles/fonts/,
%BoldFont=XB NiloofarBd,
%ItalicFont=XB NiloofarIt,
%BoldItalicFont=XB NiloofarBdIt
%]{XB Niloofar}
\setdigitfont{Yas}

%\defpersianfont\sayeh[
%Scale=1,
%Path=styles/fonts/
%]{XB Kayhan Pook}
%


%\makeatletter
%\def\abjad@zero{}
%\def\abj@num@i#1{%
%	\ifcase#1\or الف\or ب\or ج\or د%
%	\or ه‍\or و\or ز\or ح\or ط\fi
%	\ifnum#1=\z@\abjad@zero\fi}
%\def\abj@num@ii#1{%
%	\ifcase#1\or ی\or ک\or ل\or م\or ن%
%	\or س\or ع\or ف\or ص\fi
%	\ifnum#1=\z@\fi\abj@num@i}
%\def\abj@num@iii#1{%
%	\ifcase#1\or ق\or ر\or ش\or ت\or ث%
%	\or خ\or ذ\or ض\or ظ\fi
%	\ifnum#1=\z@\fi\abj@num@ii}
%\def\abj@num@iv#1{%
%	\ifcase#1\or غ\fi
%	\ifnum#1=\z@\fi\abj@num@iii}
%\let\@latinalph\@alph%
%\let\@latinAlph\@Alph%
%\def\PersianAlphs{%
%	\let\@alph\abjadnumeral%
%	\let\@Alph\abjadnumeral%
%}
%\def\LatinAlphs{%
%	\let\@alph\@latinalph%
%	\let\@Alph\@latinAlph%
%}
%\PersianAlphs
%\makeatother

\newcommand{\textemf}[1]{«#1»}
\titleformat{\section}{\large\bfseries}{ماده \thesection: }{0em}{}
\titleformat{\subsection}{\bfseries}{\thesubsection- }{0em}{}
\titleformat{\subsubsection}{\bfseries}{\thesubsubsection- }{0em}{}

\usepackage{bidihl}
\definecolor{lightYellow}{rgb}{1,1,0.73}
\newcommand{\hl}[1]{\bidihl{#1}}
\definecolor{bidihlcolor}{rgb}{1,1,0.73}


\AtBeginEnvironment{figure}{\setcounter{subfigure}{0}}% Resets subfigure counter at start of figure environment
%.cwl
\NewEnviron{copyrightBox}[3][b]{
	%	\setcounter{subfigure}{0}% Reset subfigure counter
	\noindent\copyrightbox[#1]{
		\begin{minipage}{#2}\BODY\end{minipage}
	}{#3}}
%.cwl
\NewEnviron{RTLcopyrightBox}[3][b]{
	%	\setcounter{subfigure}{0}% Reset subfigure counter
	\noindent\copyrightbox[#1]{
		\begin{minipage}{#2}
			\begin{RTL}	\BODY \end{RTL}
		\end{minipage}
	}{#3}}



\newcommand{\f}[2]{$\frac{#1}{#2}$}
\newcommand{\rltext}[1]{\text{\rl{#1}}}
\newcommand{\lrtext}[1]{\text{\lr{#1}}}

\newtheorem{note}{تبصره}[section]


\newcommand*{\Scale}[2][4]{\scalebox{#1}{$#2$}}%
\newcommand*{\Resize}[2]{\resizebox{#1}{!}{$#2$}}%
\newcommand\rescaleequation[2]{\resizebox{#1\hsize}{!}{$#2$}}

\usepackage{ptext}




\input{main}






